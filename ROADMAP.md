# 📅 外国人雇用在留資格診断システム - 開発ロードマップ

## 🎯 現在の状態（v1.0 MVP）

### ✅ 実装済み
- [x] Django基本構造
- [x] データベースモデル（5テーブル）
- [x] 診断ロジックエンジン
- [x] 6種類の在留資格データ
- [x] 18種類の業種・職種マッピング
- [x] Webフォーム診断UI
- [x] 診断結果表示
- [x] 管理画面
- [x] 初期データ投入システム

---

## 🚀 Phase 1: AI統合（2-4週間）

### 優先度: 🔴 高

#### 1.1 AIプロバイダー選定
- [ ] Claude API vs OpenAI GPT-4の比較
- [ ] コスト試算（月間診断数に基づく）
- [ ] APIキーの取得

#### 1.2 AI判定機能の実装
```python
# logic.py に追加
class AIEnhancedDiagnosisEngine:
    def __init__(self, api_key):
        self.client = anthropic.Anthropic(api_key=api_key)
    
    def analyze_job_description(self, job_text):
        """業務内容の自然言語解析"""
        # 単純労働の判定
        # 専門性の評価
        # 該当在留資格の候補抽出
    
    def check_major_relevance(self, major, job_field):
        """専攻と職務の関連性AI判定"""
        # スコアリング（0-100点）
        # 理由の説明生成
```

#### 1.3 テストと調整
- [ ] 100件の実例でテスト
- [ ] 精度評価（専門家との比較）
- [ ] プロンプトの最適化

**期待される効果:**
- 専攻と職種の適合性判定の精度向上
- 業務内容からの自動判定
- より自然な説明文生成

---

## 🎨 Phase 2: UX/UI改善（2-3週間）

### 優先度: 🟡 中

#### 2.1 チャットボット形式の導入
- [ ] 対話型UI実装
- [ ] ステップバイステップの質問方式
- [ ] リアルタイム入力検証

#### 2.2 診断結果の強化
- [ ] PDF出力機能
- [ ] 結果のメール送信
- [ ] 診断レポートの保存

#### 2.3 レスポンシブデザイン
- [ ] スマートフォン最適化
- [ ] タブレット対応
- [ ] プログレスバーの追加

**デザインモックアップ例:**
```
┌─────────────────────────┐
│ 💬 在留資格診断Bot      │
│                         │
│ Bot: まず、採用予定の   │
│      方の国籍を教えて   │
│      ください           │
│                         │
│ User: [ベトナム____]    │
│       [送信]            │
└─────────────────────────┘
```

---

## 💼 Phase 3: ビジネス機能（4-6週間）

### 優先度: 🟢 中-低

#### 3.1 ユーザー管理システム
- [ ] ユーザー登録・ログイン
- [ ] 診断履歴の保存（個人別）
- [ ] お気に入り機能

#### 3.2 料金プラン設計
```python
PLANS = {
    'free': {
        'diagnoses_per_month': 3,
        'features': ['基本診断'],
        'price': 0
    },
    'basic': {
        'diagnoses_per_month': 50,
        'features': ['基本診断', 'AI分析', 'PDF出力'],
        'price': 10000  # 月額
    },
    'professional': {
        'diagnoses_per_month': -1,  # 無制限
        'features': ['全機能', 'API利用', '優先サポート'],
        'price': 30000  # 月額
    }
}
```

#### 3.3 API提供
- [ ] REST API実装
- [ ] API認証（トークン方式）
- [ ] レート制限
- [ ] APIドキュメント（Swagger）

---

## 🌐 Phase 4: 多言語化（3-4週間）

### 優先度: 🟡 中

#### 4.1 対応言語
- [ ] 英語（English）
- [ ] ベトナム語（Tiếng Việt）
- [ ] 中国語簡体字（简体中文）
- [ ] 中国語繁体字（繁體中文）

#### 4.2 実装方法
```python
# settings.py
LANGUAGES = [
    ('ja', '日本語'),
    ('en', 'English'),
    ('vi', 'Tiếng Việt'),
    ('zh-hans', '简体中文'),
    ('zh-hant', '繁體中文'),
]

MIDDLEWARE = [
    ...
    'django.middleware.locale.LocaleMiddleware',
    ...
]
```

#### 4.3 翻訳ツール
- [ ] Django翻訳システムの導入
- [ ] AI自動翻訳（Claude/GPT-4）
- [ ] ネイティブチェック

---

## 📄 Phase 5: 書類作成支援（6-8週間）

### 優先度: 🔴 高（将来の差別化要因）

#### 5.1 申請書類の自動下書き
- [ ] 在留資格認定証明書交付申請書
- [ ] 理由書のテンプレート生成
- [ ] 経歴書の自動作成

#### 5.2 書類チェック機能
- [ ] アップロードされた書類のチェック
- [ ] 不備の指摘
- [ ] 修正案の提示

#### 5.3 進捗管理
- [ ] 申請ステータス管理
- [ ] 期限アラート
- [ ] タスクリスト

**データモデル例:**
```python
class ApplicationProgress(models.Model):
    diagnosis_session = models.ForeignKey(DiagnosisSession)
    status = models.CharField(choices=[
        ('preparing', '書類準備中'),
        ('submitted', '申請済み'),
        ('pending', '審査中'),
        ('approved', '許可'),
        ('rejected', '不許可'),
    ])
    documents_submitted = models.JSONField()
    submission_date = models.DateField()
    expected_result_date = models.DateField()
```

---

## 🔬 Phase 6: 高度化機能（継続的）

### 優先度: 🟢 低-中

#### 6.1 ポイント計算機（高度専門職用）
- [ ] 詳細なポイント計算
- [ ] 最適化提案
- [ ] シミュレーション機能

#### 6.2 データ分析
- [ ] 許可率の統計
- [ ] 業種別トレンド
- [ ] 改善提案

#### 6.3 知識ベースの強化
- [ ] 判例データベース
- [ ] よくある質問（FAQ）
- [ ] 最新法令対応

---

## 💰 収益化戦略

### フェーズ1: 無料提供（現在）
- ポートフォリオ構築
- ユーザーフィードバック収集
- 改善とデバッグ

### フェーズ2: β版リリース（2-3ヶ月後）
- 限定ユーザーへの提供
- 社労士事務所へのOEM提供検討
- 価格設定のテスト

### フェーズ3: 正式リリース（6ヶ月後）
```
料金プラン案:
┌─────────────────────────────────┐
│ Free Plan                       │
│ - 月3回まで診断                 │
│ - 基本機能のみ                  │
│ - 広告表示                      │
│ 価格: ¥0/月                     │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ Basic Plan                      │
│ - 月50回まで診断                │
│ - AI分析                        │
│ - PDF出力                       │
│ 価格: ¥10,000/月                │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ Professional Plan               │
│ - 無制限診断                    │
│ - 全機能利用可能                │
│ - API利用                       │
│ - 優先サポート                  │
│ 価格: ¥30,000/月                │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ Enterprise Plan                 │
│ - カスタマイズ対応              │
│ - 専任サポート                  │
│ - オンプレミス対応              │
│ 価格: 応相談                    │
└─────────────────────────────────┘
```

---

## 📊 KPI設定

### 開発フェーズ（6ヶ月）
- システム稼働率: 99%以上
- 診断精度: 90%以上（専門家評価）
- ページ読み込み時間: 2秒以内

### β版フェーズ（3ヶ月）
- 登録ユーザー数: 100社
- 月間診断数: 500件
- 継続利用率: 60%以上

### 正式版フェーズ（1年目）
- 有料会員数: 50社
- 月間売上: ¥500,000
- 顧客満足度: 4.5/5.0

---

## 🛠️ 技術的改善タスク

### インフラ
- [ ] AWSまたはGCPへのデプロイ
- [ ] PostgreSQLへの移行
- [ ] Redis導入（キャッシング）
- [ ] CI/CDパイプライン構築

### セキュリティ
- [ ] HTTPS/SSL対応
- [ ] CSRF対策の強化
- [ ] SQLインジェクション対策
- [ ] レート制限の実装

### パフォーマンス
- [ ] データベースインデックスの最適化
- [ ] クエリの最適化
- [ ] 静的ファイルのCDN配信
- [ ] ロードバランシング

---

## 👥 チーム体制（拡大時）

### 現在（1人）
- フルスタック開発者（健二さん）

### 6ヶ月後（3-4人想定）
- バックエンド開発者 x 1
- フロントエンド開発者 x 1
- UI/UXデザイナー x 1
- 社労士（監修・サポート）x 1（パートタイム）

---

## 📈 成長シナリオ

### Year 1: 基盤構築
- システム開発
- β版リリース
- 初期ユーザー獲得

### Year 2: 事業拡大
- 有料プラン開始
- 社労士事務所への営業
- API提供開始

### Year 3: スケールアップ
- 大手企業への導入
- 海外展開検討
- M&Aまたは大型資金調達

---

## 🎯 最優先タスク（次の2週間）

1. **AI統合の検証**
   - Claude APIのテスト実装
   - 専攻-職種マッチング精度の確認

2. **フィードバック収集**
   - 知り合いの社労士にデモ
   - 改善点のリストアップ

3. **ドキュメント整備**
   - 使い方ガイドの作成
   - FAQの作成

4. **セキュリティ強化**
   - 本番環境設定の見直し
   - バックアップ体制の構築

---

**このロードマップは状況に応じて柔軟に調整してください！**
